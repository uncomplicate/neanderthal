<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>uncomplicate.neanderthal.sparse documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Neanderthal</span> <span class="project-version">0.49.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>uncomplicate</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>neanderthal</span></div></div></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.auxil.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auxil</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.block.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>block</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.cuda.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cuda</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.integer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>integer</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.linalg.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>linalg</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.native.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>native</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.opencl.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>opencl</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.random.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>random</span></div></a></li><li class="depth-3 branch"><a href="uncomplicate.neanderthal.real.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>real</span></div></a></li><li class="depth-3 branch current"><a href="uncomplicate.neanderthal.sparse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sparse</span></div></a></li><li class="depth-3"><a href="uncomplicate.neanderthal.vect-math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>vect-math</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="uncomplicate.neanderthal.sparse.html#var-csr"><div class="inner"><span>csr</span></div></a></li><li class="depth-1"><a href="uncomplicate.neanderthal.sparse.html#var-csr.3F"><div class="inner"><span>csr?</span></div></a></li><li class="depth-1"><a href="uncomplicate.neanderthal.sparse.html#var-csv"><div class="inner"><span>csv</span></div></a></li><li class="depth-1"><a href="uncomplicate.neanderthal.sparse.html#var-csv.3F"><div class="inner"><span>csv?</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">uncomplicate.neanderthal.sparse</h1><div class="doc"><div class="markdown"><p>Functions for creating sparse vectors and matrices. Sparse vectors or matrices are structures in which most elements are zeroes. Therefore, it makes sense to store only the few non-zero entries. There is a performance penalty to pay for these entries, in terms of both storage and computation, as they are stored using one of many possible compression schemes, but if there is only a small fraction of non-zero elements compared to zero elements, that penalty is offset by the fact that only a fraction of computations need to be done.</p>
<p>Compressed sparse storage schemes that we use here use dense vectors to store non-zero entries and appropriate indices. Therefore, most operations can be offloaded to these objects if needed. Neanderthal core functions are supported where it makes sense and where it is technically possible.</p>
<p>Please see examples in <a href="null">uncomplicate.neanderthal.sparse-test</a> and <a href="https://www.intel.com/content/www/us/en/docs/onemkl/developer-reference-c/2023-1/sparse-blas-level-2-and-level-3-routines-001.html">Intel documentation</a>.</p>
<h3><a href="#cheatsheet" id="cheatsheet"></a>Cheatsheet</h3>
<p><a href="uncomplicate.neanderthal.sparse.html#var-csv">csv</a>, <a href="uncomplicate.neanderthal.sparse.html#var-csv.3F">csv?</a> <a href="uncomplicate.neanderthal.sparse.html#var-csr">csr</a>, <a href="uncomplicate.neanderthal.sparse.html#var-csr.3F">csr?</a></p>
</div></div><div class="public anchor" id="var-csr"><h3>csr</h3><div class="usage"><code>(csr fact m n idx idx-b idx-e nz options)</code><code>(csr fact m n idx idx-be nz options)</code><code>(csr fact m n idx idx-be options)</code><code>(csr fact m n source options)</code><code>(csr fact m n arg)</code><code>(csr arg0 arg1 arg2)</code><code>(csr fact a)</code></div><div class="doc"><div class="markdown"><p>Creates a compressed sparse (row) matrix using the supplied arguments and options.</p>
<p>Arguments: - <code>fact</code>: the factory that should create the matrix. - <code>m</code>: number of rows - <code>n</code>: number of columns - <code>nz</code>: a dense vector of values of non-zero entries. - <code>idx</code>: integer dense vector of indices that represent a column of the matching entry from <code>nz</code>. - <code>idx-b</code>: integer dense vector of indices that represent the index of the first non-zero element in the <code>nz</code> vector. - <code>idx-e</code>: and integer dense vector of indices that represent the index of the last non-zero element in the <code>nz</code> vector. - <code>options</code>: supported option is <code>:layout</code> (<code>:column</code> or <code>:row</code>).</p>
<ul>
<li><code>idx-be</code>: <code>idx-b</code> and <code>idx-e</code> can be provided in one shared vector since each ending index is the beginning index of the next row.</li>
<li><code>source</code>: can be another CSR, in which case its constituent index vectors are shared, or a Clojure sequence that contains data. This function will analyze the sequence and will try to guess its format. Please see examples in <a href="null">uncomplicate.neanderthal.sparse-test</a> for the examples. The same formats are accepted by <a href="uncomplicate.neanderthal.core.html#var-transfer.21">uncomplicate.neanderthal.core/transfer!</a>.</li>
</ul>
<p>The indices are zero-based by default.</p>
<p>Please see <a href="https://www.intel.com/content/www/us/en/docs/onemkl/developer-reference-c/2023-1/sparse-blas-csr-matrix-storage-format.html">Sparse BLAS CSR Matrix Storage Format</a> for a more detailed technical explanation of the CSR format, and the illustrative example.</p>
</div></div><div class="src-link"><a href="http://github.com/uncomplicate/neanderthal/blob/master/src/clojure/uncomplicate/neanderthal/sparse.clj#L97">view source</a></div></div><div class="public anchor" id="var-csr.3F"><h3>csr?</h3><div class="usage"><code>(csr? x)</code></div><div class="doc"><div class="markdown"><p>Checks whether <code>x</code> is a compressed sparse (row) matrix (CSR). CSR is the default compression scheme, supported by all routines in major libraries. Compressed columns usually do not have such a good coverage, and they are redundant anyway.</p>
</div></div><div class="src-link"><a href="http://github.com/uncomplicate/neanderthal/blob/master/src/clojure/uncomplicate/neanderthal/sparse.clj#L88">view source</a></div></div><div class="public anchor" id="var-csv"><h3>csv</h3><div class="usage"><code>(csv fact n idx nz &amp; nzs)</code><code>(csv fact n source)</code><code>(csv fact cs)</code></div><div class="doc"><div class="markdown"><p>Creates a compressed sparse vector (CSV) using the supplied arguments.</p>
<p>Arguments: - <code>fact</code>: the factory that should create the vector. - <code>n</code>: vector dimension; number of both zero and non-zero entries. - <code>nz</code>: a dense vector of values of non-zero entries, or varargs of those entries. - <code>idx</code>: integer dense vector of indices of the matching entries from <code>nz</code>. - <code>source</code>: can be another CSV, in which case its constituent indices vector is shared, or a Clojure sequence that contains data. Please see examples in <a href="null">uncomplicate.neanderthal.sparse-test</a>. The same formats are accepted by <a href="uncomplicate.neanderthal.core.html#var-transfer.21">uncomplicate.neanderthal.core/transfer!</a>.</p>
<p>The indices are zero-based by default.</p>
<p>See more about sparse vectors in <a href="https://www.intel.com/content/www/us/en/docs/onemkl/developer-reference-c/2023-1/sparse-blas-level-1-routines.html">Sparse BLAS Routines</a>.</p>
</div></div><div class="src-link"><a href="http://github.com/uncomplicate/neanderthal/blob/master/src/clojure/uncomplicate/neanderthal/sparse.clj#L49">view source</a></div></div><div class="public anchor" id="var-csv.3F"><h3>csv?</h3><div class="usage"><code>(csv? x)</code></div><div class="doc"><div class="markdown"><p>Checks whether <code>x</code> is a compressed sparse vector (CSV).</p>
</div></div><div class="src-link"><a href="http://github.com/uncomplicate/neanderthal/blob/master/src/clojure/uncomplicate/neanderthal/sparse.clj#L44">view source</a></div></div></div></body></html>